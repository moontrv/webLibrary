<!DOCTYPE HTML>
<html>

<head>
    <title>Library services</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="css/skel-noscript.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/style-desktop.css" />
    <link rel="stylesheet" type="text/css" href="slick/slick.css" />
    <link rel="stylesheet" type="text/css" href="slick/slick-theme.css" />
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/weather-icons.min.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <!--[if lte IE 9]><link rel="stylesheet" href="css/ie9.css" /><![endif]-->
    <!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
    <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyAppvlbr7PozFnpz8UBw--4DJiNggZIAek&sensor=false"></script>
</head>

<body>
    <!-- Header -->
    <div id="header-wrapper">
        <header id="header" class="container">
            <div class="row">
                <div class="12u">
                    <!-- Logo -->
                    <h1><a href="#" id="logo" class="pull-left" style="">Metropolia Library</a></h1>
                    <!-- Nav -->
                    <nav id="nav" class="nav navbar-right">
                        <a href="index.html">Homepage</a>
                        <a href="http://www.metropolia.fi/palvelut/kirjasto/aukioloajat-ja-yhteystiedot/leppavaara/" target="_blank">Service</a>
                        <a href="http://www.metropolia.fi/tutkimus-ja-kehitys/" target="_blank">R&D</a>
                        <a href="http://www.metropolia.fi/medialle/" target="_blank">Media</a>
                        <!--href="http://www.metropolia.fi/tietoa-metropoliasta/"-->
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">More information<span class="caret"></span></a>
                        <ul class="dropdown-menu" id="my_c">
                            <li><a href="#" id="cam_l">Campus Location</a></li>
                            <!--<li><a href="#">Weather Update</a></li>-->
                            <li><a href="#" id="rev">Reservation</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
            <style>
            #my_c {
                background-color: #413e42;
            }
            </style>
        </header>
        <div id="banner">
            <div class="container">
                <div class="row">
                    <div class="6u">
                        <!-- Banner Copy -->
                        <form id="searchBar">
                            <input type="text" name="search" placeholder="Search book">
                        </form>
                        <div id = "weatherBox">
                        	<i id="weatherIcon" class="wi wi-night-sleet"></i>
                        	<p id="temperature"></p>
                        	<p id="weatherSummary"></p>
                        </div>
                    </div>
                    <div class="6u">
                        <!-- Banner Image -->
                        <div class="image-slide" id="im_sl">
                            <div><img src="images/metropolia485.jpg" /></div>
                            <div><img src="images/metropolia2.jpg" /></div>
                            <div><img src="images/metropolia3.jpg" /></div>
                        </div>
						<div id="googleMap" style="width:620px;height:290px;display: none;">
                        <!-- Banner section 
									<a href="#" class="bordered-feature-image"><img src="images/metropolia485.jpg" alt="" /></a> -->
						</div>
						<div id="load_p" style="width:620px;height:290px;display: none;">
							<div class='wrapper text-center'>
								<div class="btn-group">
								<button id="see_R" type="button" class="btn btn-info btn-lg">See reservation</button>
								<button type="button" class="btn btn-info btn-lg">Make reservation</button>
								</div>							
								<table id="toB" class="table-hover table-bordered" style="display: none; margin: 0 auto; margin-top:5%">
									<th>Student Number</th>
									<th>Name</th>
									<th>Time</th>
								</table>								
							</div>
							<div>
								
							</div>
						</div>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
    <!-- Features -->
    <div id="features-wrapper">
        <div id="features">
            <div class="container">
                <div class="row">
                    <div class="3u">
                        <!-- Feature #1 -->
                        <section>
                            <a href="#" class="bordered-feature-image"><img src="images/2.jpg" alt="" /></a>
                            <h2>Welcome to Metropolia Library Service</h2>
                            <p>Openning hour</br>
                                Mon, Wed 8-20 (self-service 8-10 and 17-20)</br>
                                Tues, Thur 8-20 (self-service 8-10 and 18-20)</br>
                                Fri 8-20 (self-service 8-10 and 15-20)</br>
                                Sat 9-15 self-service</br>
                            </p>
                        </section>
                    </div>
                    <div class="3u">
                        <!-- Feature #2 -->
                        <section>
                            <a href="#" class="bordered-feature-image"><img src="images/1.jpg" alt="" /></a>
                            <h2></h2>
                            <p>
                                Openning self-service for students
                            </p>
                        </section>
                    </div>
                    <div class="3u">
                        <!-- Feature #3 -->
                        <section>
                            <a href="#" class="bordered-feature-image"><img src="images/3.jpg" alt="" /></a>
                            <h2></h2>
                            <p>
                            </p>
                        </section>
                    </div>
                    <div class="3u">
                        <!-- Feature #4 -->
                        <section>
                            <a href="#" class="bordered-feature-image"><img src="images/4.jpg" alt="" /></a>
                            <h2></h2>
                            <p>
                            </p>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Content -->
    <div id="content-wrapper">
        <div id="content">
            <div class="container">
                <div class="row">
                    <div class="4u">
                        <!-- Box #1 -->
                        <section>
                            <header>
                                <h2>Metropolia University of Applied Sciences</h2>
                                <h3>Exceptional education</h3>
                            </header>
                            <a href="#" class="feature-image"><img src="images/5.jpg" alt="" /></a>
                            <p>
                                For professionals
                            </p>
                        </section>
                    </div>
                    <div class="4u">
                        <!-- Box #2 -->
                        <section>
                            <header>
                                <h2>Contact Information</h2> puh. 040 6416 399</br>
                                sähköposti: kirjasto (at) metropolia.fi</br>
                                Vanha maantie 6, 02650 Espoo</br>
                                PL 4070, 00079 Metropolia</br>
                                Henkilökunta</br>
                                Juvonen Annika, tietopalvelusihteeri</br>
                                puh. 09 7424 5073</br>
                                Kulmala Virpi, tietopalvelusihteeri</br>
                                puh. 09 7424 5076</br>
                                Kumar Päivi, informaatikko</br>
                                puh. 09 7424 5077</br>
                                Pyhtilä Saija, informaatikko</br>
                                puh. 09 7424 5086</br>
                                Sallasmaa Kaisu, informaatikko</br>
                                puh. 09 7424 5087</br>
                                </ul>
                        </section>
                    </div>
                    <div class="4u">
                        <!-- Box #3 -->
                        <section>
                            <header>
                                <h2>Metropolian johtoryhmän</h2>
                            </header>
                            <ul class="quote-list">
                                <li>
                                    <img src="images/6.jpg" alt="" />
                                    <p></p>
                                    <span>Rehtori </br>KL Riitta Konkola</span>
                                </li>
                                <li>
                                    <img src="images/8.jpg" alt="" />
                                    <p></p>
                                    <span>Vararehtori FT, dos.</br> Vesa Taatila</span>
                                </li>
                                <li>
                                    <img src="images/7.jpg" alt="" />
                                    <p></p>
                                    <span>Johtaja</br>FT Antti Piironen</span>
                                </li>
                            </ul>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer -->
    <div id="footer-wrapper">
        <footer id="footer" class="container">
            <div class="row">
                <div class="8u">
                    <!-- Links -->
                    <section>
                        <h2>Links to more information</h2>
                        <div>
                            <div class="row">
                                <div class="3u">
                                    <ul class="link-list last-child">
                                        <li><a href="http://www.metropolia.fi/ajankohtaista/uutiset/">News</a></li>
                                        <li><a href="http://www.metropolia.fi/ajankohtaista/tapahtumat/">What's hapenning</a></li>
                                        <li><a href="http://www.metropolia.fi/ajankohtaista/avoimet-tyopaikat/">Openning position</a></li>
                                        <li><a href="http://www.metropolia.fi/yhteystiedot/">Contact Information</a></li>
                                    </ul>
                                </div>
                                <div class="3u">
                                    <ul class="link-list last-child">
                                        <li><a href="http://www.metropolia.fi/tietoa-metropoliasta/organisaatio/">Organisation</a></li>
                                        <li><a href="http://www.metropolia.fi/tietoa-metropoliasta/metropolian-tarina/">Tarina</a></li>
                                        <li><a href="http://www.metropolia.fi/tietoa-metropoliasta/metropolian-tarina/">Laatutyö ja KKA-auditointi</a></li>
                                        <li><a href="http://www.metropolia.fi/tietoa-metropoliasta/kansainvalisyys/">Kansainvälisyys</a></li>
                                    </ul>
                                </div>
                                <div class="3u">
                                    <ul class="link-list last-child">
                                        <li><a href="http://www.metropolia.fi/koulutusohjelmat/hyvinvointi-ja-toimintakyky/">Hyvinvointi</a></li>
                                        <li><a href="http://www.metropolia.fi/koulutusohjelmat/kulttuuri-ja-luova-ala/">Culture</a></li>
                                        <li><a href="http://www.metropolia.fi/koulutusohjelmat/liiketoimintaosaaminen/">Liiketoiminta ja sähkö</a></li>
                                        <li><a href="http://www.metropolia.fi/koulutusohjelmat/rakennus-ja-kiinteistoala/">Rakentaminen ja konservointi</a></li>
                                    </ul>
                                </div>
                                <div class="3u">
                                    <ul class="link-list last-child">
                                        <li><a href="http://www.metropolia.fi/palvelut/kirjasto/">Kirjasto</a></li>
                                        <li><a href="http://www.metropolia.fi/palvelut/julkaisutoiminta/">Julkaisutoiminta</a></li>
                                        <li><a href="http://www.metropolia.fi/palvelut/rekrytointipalvelut/">Rekrytointipalvelut</a></li>
                                        <li><a href="http://www.metropolia.fi/palvelut/tukisaatio/">Tukisäätiö</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
                <div class="4u">
                    <!-- Blurb -->
                    <section>
                        <h2>Follow us</h2>
                        <p>
                            <li><a href="https://www.facebook.com/MetropoliaKirjasto">Facebook</a></li>
                            <li><a href="https://twitter.com/metrokirjasto">Twitter</a></li>
                            <li><a href="http://pinterest.com/metropolialib/uutuuksia-vanhan-maantien-kirjastossa/">Pinterest</a></li>
                        </p>
                    </section>
                </div>
            </div>
        </footer>
    </div>
    <!-- Copyright -->
    <div id="copyright">
        &copy; All rights reserved. | Design: <a href="http://html5up.net">HTML5 UP</a>
    </div>
    <script src="js/config.js"></script>
    <script src="js/jquery.min.js"></script>
    <script type="text/javascript" src="slick/slick.min.js"></script>
    <script src="js/skel.min.js"></script>
    <script src="js/skel-panels.min.js"></script>
    <script type="text/javascript" src="js/library.js"></script>
    <script>
	
	$("#cam_l").click(function(){
		$("#load_p").hide();
		$("#im_sl").hide();	
		$("#googleMap").show();	
		initialize();
	});
	
	$("#rev").click(function(){
		$("#im_sl").hide();	
		$("#googleMap").hide();	
		$("#load_p").show();	
	});
	
	$("#see_R").one("click",function() {
		$("#toB").show();
		$.getJSON("student.json", function(result){
			var tr;
			for (var i = 0; i < result.length; i++) {
				tr = $('<tr/>');
				tr.append("<td>" + result[i]["studen number"] + "</td>");
				tr.append("<td>" + result[i].name + "</td>");
				tr.append("<td>" + result[i].time + "</td>");
				$('#toB').append(tr);
			}
		});								
	});	
	
    var myCenter = new google.maps.LatLng(60.2207937, 24.8061204);

    function initialize() {
        var locations = [
            ['<h4>Vanha maantie 6</h4>', 60.2207937, 24.8061204],
            ['<h4>Leiritie 1</h4>', 60.2585857, 24.8455813],
            ['<h4>Lyckovägen 18</h4>', 60.2197340, 24.9567340],
            ['<h4>Vanha viertotie 23</h4>', 60.2111290, 24.8816590],
            ['<h4>Mannerheimintie 172</h4>', 60.2060460, 24.8978630],
            ['<h4>Bulevardi(2 campuses)</h4>', 60.1626860, 24.9319740],
            ['<h4>Sofianlehdonkatu 5</h4>', 60.2038870, 24.9505270],
            ['<h4>Agricolankatu 1</h4>', 60.1843650, 24.9562500],
            ['<h4>Arabiankatu 2</h4>', 60.2069060, 24.9754170],
            ['<h4>Hämeentie 161</h4>', 60.2147380, 24.9804220]
        ];

        // using ready-made icons
        var iconURLPrefix = 'http://maps.google.com/mapfiles/ms/icons/';

        var icons = [
            iconURLPrefix + 'red-dot.png',
            iconURLPrefix + 'green-dot.png',
            iconURLPrefix + 'blue-dot.png',
            iconURLPrefix + 'orange-dot.png',
            iconURLPrefix + 'purple-dot.png',
            iconURLPrefix + 'pink-dot.png',
            iconURLPrefix + 'yellow-dot.png'
        ]
        var icons_length = icons.length;

        var shadow = {
            anchor: new google.maps.Point(15, 33),
            url: iconURLPrefix + 'msmarker.shadow.png'
        };

        var mapProp = {
            center: myCenter,
            zoom: 10,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);

        var infowindow = new google.maps.InfoWindow({

        });

        var iconCounter = 0;
        //create array of markers
        var markers = new Array();

        // Extract info from location array
        for (var i = 0; i < locations.length; i++) {
            marker = new google.maps.Marker({
                position: new google.maps.LatLng(locations[i][1], locations[i][2]),
                map: map,
                icon: icons[iconCounter],
                shadow: shadow
            });

            markers.push(marker);

            google.maps.event.addListener(marker, 'click', (function(marker, i) {
                return function() {
                    infowindow.setContent(locations[i][0]);
                    infowindow.open(map, marker);
                }
            })(marker, i));

            iconCounter++;
            // restart counter if there are not enough markers
            if (iconCounter >= icons_length) {
                iconCounter = 0;
            }
        }

        var but1 = document.getElementById('button1');
        //functions for 2 buttons here were not implemented (design constraint)		
        google.maps.event.addDomListener(but1, 'click', function() {
            marker.setMap(map);
        });

        function AutoCenter() {

            var bounds = new google.maps.LatLngBounds();
            //  iterate through bound values
            $.each(markers, function(index, marker) {
                bounds.extend(marker.position);
            });

            map.fitBounds(bounds);
        }
        AutoCenter();
    }
    // load map when page ready
    google.maps.event.addDomListener(window, 'load', initialize);
    </script>
</body>

</html>
